$(document).ready(function(){jQuery.validator.addMethod("notEqual",function(t,o,n){return this.optional(o)||t!=$(n).val()},"数据不能相同");var t=function(t){return!t||0===t.length},o=function(t){var o=-1;return t[2]?o=t[2]:t[1]?o=t[1]:t[0]&&(o=t[0]),o},n=function(){$("#sourceDropdown").cityDropdown(),$("#destinationDropdown").cityDropdown(),$(".search-form").on("click","#exchange",function(o){o.preventDefault();var n=$("#sourceDropdown-cityInput").val(),i=$("#destinationDropdown-cityInput").val();if(!t(n)||!t(i)){var r=window.__CITYDATA__.sourceDropdown,e=window.__CITYDATA__.destinationDropdown;$("#sourceDropdown-cityInput").val(i),$("#destinationDropdown-cityInput").val(n),window.__CITYDATA__.sourceDropdown=e,window.__CITYDATA__.destinationDropdown=r}return!1})},i=function(){n();$("#citySearchForm").validate({rules:{source:{required:!0},destination:{required:!0,notEqual:"#sourceDropdown-cityInput"}},messages:{source:{required:'<p style="width: 96px;height: 17px;margin-bottom: 0px;">出发地不能为空</p>'},destination:{required:'<p style="width: 96px;height: 17px;margin-bottom: 0px;">目的地不能为空</p>',notEqual:'<p style="width: 120px;height: 17px;margin-bottom: 0px;">出发地目的地不能相同</p>'}},tooltip_options:{source:{placement:"top",html:!0},destination:{placement:"top",html:!0}}});$(".search-form").on("click","#searchBtn",function(t){t.preventDefault();var n=$("#citySearchForm");if(n.find("input").each(function(){$(this).val(jQuery.trim($(this).val()))}),n.valid()){var i=o(window.__CITYDATA__.sourceDropdown),r=o(window.__CITYDATA__.destinationDropdown),e="/specialoffer.html#/s/"+i+"/d/"+r;window.location.href=e}return!1});var t="%D天%H小时%M分钟%S秒";$("[data-countdown]").each(function(){var o=$(this),n=$(this).data("countdown");o.countdown(n,function(n){o.html(n.strftime(t))})})};i()});